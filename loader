local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
   Name = "Σ⁠ - Solstice",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Solstice",
   LoadingSubtitle = "by MagmeEx",
   ShowText = "Sols", -- for mobile users to unhide rayfield, change if you'd like
   Theme = "Amethyst", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   ToggleUIKeybind = "K", -- The keybind to toggle the UI visibility (string like "K" or Enum.KeyCode)

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil, -- Create a custom folder for your hub/game
      FileName = "SolsConf"
   },

   Discord = {
      Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "Sols Key",
      Subtitle = "Key System",
      Note = "Key = bit.ly/40bstrD", -- Use this to tell the user how to get a key
      FileName = "SolsKey", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
      SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = {"KEY-SOLS-74389042","Devkey79"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
   }
})
local Tab = Window:CreateTab("Main", 4483362458) -- Title, Image
local Button = Tab:CreateButton({
   Name = "Esp",
   Callback = function()
   local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

ESP = ESP or {
    Enabled = true,
    ShowBoxes = true,
    ShowNames = true,
    ShowTracers = true,
    ShowHealth = true,
    Color = nil,
    HealthColorMode = "match",
    HealthColorFunction = function(healthPercent)
        if healthPercent > 0.7 then
            return Color3.fromRGB(0, 255, 0)
        elseif healthPercent > 0.3 then
            return Color3.fromRGB(255, 165, 0)
        else
            return Color3.fromRGB(255, 0, 0)
        end
    end
}

local ESPObjects = {}

local function newDrawing(type, props)
    local obj = Drawing.new(type)
    for k, v in pairs(props) do
        obj[k] = v
    end
    return obj
end

local function createESPElements()
    return {
        Box = newDrawing("Square", {Visible = false, Thickness = 2, Filled = false, Color = Color3.new(1,1,1)}),
        Name = newDrawing("Text", {Visible = false, Center = true, Outline = true, Size = 16, Font = 2, Color = Color3.new(1,1,1)}),
        Tracer = newDrawing("Line", {Visible = false, Thickness = 1, Color = Color3.new(1,1,1)}),
        HealthBar = newDrawing("Line", {Visible = false, Thickness = 4, Color = Color3.new(0,1,0)})
    }
end

local function getRainbowColor(t)
    local freq = 2
    return Color3.new(
        math.sin(freq * t) * 0.5 + 0.5,
        math.sin(freq * t + 2) * 0.5 + 0.5,
        math.sin(freq * t + 4) * 0.5 + 0.5
    )
end

local function getBoxScreenPoints(cframe, size)
    local half = size / 2
    local points = {}
    local visible = true
    for x = -1,1,2 do
        for y = -1,1,2 do
            for z = -1,1,2 do
                local corner = cframe * Vector3.new(half.X*x, half.Y*y, half.Z*z)
                local screenPos, onScreen = Camera:WorldToViewportPoint(corner)
                if not onScreen then visible = false end
                table.insert(points, Vector2.new(screenPos.X, screenPos.Y))
            end
        end
    end
    return points, visible
end

local function hideAll(data)
    data.Box.Visible = false
    data.Name.Visible = false
    data.Tracer.Visible = false
    data.HealthBar.Visible = false
end

RunService.RenderStepped:Connect(function()
    if not ESP.Enabled then
        for _, data in pairs(ESPObjects) do
            hideAll(data)
        end
        return
    end

    local now = tick()
    local baseColor = ESP.Color or getRainbowColor(now)
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y)

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local character = player.Character
            local humanoid = character and character:FindFirstChildOfClass("Humanoid")
            if character and humanoid and humanoid.Health > 0 then
                local success, cframe, size = pcall(character.GetBoundingBox, character)
                if success and cframe and size then
                    local points, visible = getBoxScreenPoints(cframe, size)
                    if not visible then
                        if ESPObjects[player] then
                            hideAll(ESPObjects[player])
                        end
                    else
                        local data = ESPObjects[player] or createESPElements()
                        ESPObjects[player] = data

                        local minX, minY, maxX, maxY = math.huge, math.huge, -math.huge, -math.huge
                        for _, pt in ipairs(points) do
                            minX = math.min(minX, pt.X)
                            minY = math.min(minY, pt.Y)
                            maxX = math.max(maxX, pt.X)
                            maxY = math.max(maxY, pt.Y)
                        end

                        local boxWidth, boxHeight = maxX - minX, maxY - minY
                        local slimWidth = boxWidth * 0.7
                        local slimX = minX + (boxWidth - slimWidth) / 2
                        local healthRatio = math.clamp(humanoid.Health / humanoid.MaxHealth, 0, 1)

                        if ESP.ShowBoxes then
                            data.Box.Visible = true
                            data.Box.Position = Vector2.new(slimX, minY)
                            data.Box.Size = Vector2.new(slimWidth, boxHeight)
                            data.Box.Color = baseColor
                        else
                            data.Box.Visible = false
                        end

                        if ESP.ShowNames then
                            data.Name.Visible = true
                            data.Name.Text = player.Name
                            data.Name.Position = Vector2.new(slimX + slimWidth/2, minY - 20)
                            data.Name.Color = baseColor
                        else
                            data.Name.Visible = false
                        end

                        if ESP.ShowTracers then
                            data.Tracer.Visible = true
                            data.Tracer.From = screenCenter
                            data.Tracer.To = Vector2.new(slimX + slimWidth/2, maxY)
                            data.Tracer.Color = baseColor
                        else
                            data.Tracer.Visible = false
                        end

                        if ESP.ShowHealth then
                            local barHeight = boxHeight * healthRatio
                            data.HealthBar.Visible = true

                            if ESP.HealthColorMode == "custom" and ESP.HealthColorFunction then
                                data.HealthBar.Color = ESP.HealthColorFunction(healthRatio)
                            else
                                data.HealthBar.Color = baseColor
                            end

                            data.HealthBar.From = Vector2.new(slimX - 6, maxY)
                            data.HealthBar.To = Vector2.new(slimX - 6, maxY - barHeight)
                        else
                            data.HealthBar.Visible = false
                        end
                    end
                end
            else
                if ESPObjects[player] then
                    hideAll(ESPObjects[player])
                end
            end
        end
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if ESPObjects[player] then
        for _, obj in pairs(ESPObjects[player]) do
            obj:Remove()
        end
        ESPObjects[player] = nil
    end
end)
   end,
})
local Button = Tab:CreateButton({
   Name = "Aimbot",
   Callback = function()
   --[[
		ARCEUS X | MOBILE AIMBOT v1.0.6

		Made by Riky47#3355 for Arceus X
		# spdmteam.com
]]

-- This file was generated using Luraph Obfuscator v13.6.6
do return(function(iB,WB,sB,DB,kB,tj,lj,oB,eB,FB,IB,RB,yB,fB,YB,QB,HB,vB,TB,GB,xB,CB,Tj,pj,dj,XB,nB,bj,rB,zB,Aj,cB,EB,Pj,NB,jB,OB,aB,wj,qB,Uj,uB,SB,P,U,l)local uj,ij,kj=0X0001,nil,(nil);while Tj(0,uj,2)do do if Tj(1,uj,0)then kj=1229852837;uj=2;else ij=242034964;uj=0x0;end;end;end;do uj=1;end;local Ej,Gj,Nj=nil,nil,nil;repeat do if uj<=0 then do Nj=625006743;end;uj=3;else if Tj(0X1,uj,1)then Ej=41037831;uj=0X0002;else Gj=0X5efcD9c6;uj=0X0;end;end;end;until Tj(2,nil,nil,Nj,{},uj,{},uj,Gj)>=0X00003;local Dj,sj=1568615639,(656733660);local ej=(988340185);uj=4;local Xj,Rj,Hj,nj,vj,fj,zj,Jj=nil,nil,nil,nil,nil,nil,nil,(nil);while Tj(0,uj,0X8)do if uj<=0X3 then if uj<=1 then if Tj(0X001,uj,0)then Rj=2084991427;do uj=6;end;else fj=2014481996;uj=0X5;end;else if not(Tj(0X1,uj,2))then do vj=405750389;end;uj=1;else do Jj=0X564232d3;end;do uj=0X0008;end;end;end;elseif uj<=5 then if Tj(0X1,uj,4)then Xj=0xe77E62B;uj=0;else do zj=0x00002c3F7732;end;uj=0X2;end;else if not(Tj(0x1,uj,6))then nj=1718131745;uj=3;else Hj=0x00001AE9AcEc;uj=0X7;end;end;end;local Vj,hj,mj,Lj,Bj,gj,Kj,Zj,Mj,A,p,V,b,Z,B,u,g=nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,nil,(nil);for Lv=0X000,16 do if Tj(0x3,Lv,7)then if not(Lv<=3)then if Tj(0x3,Lv,0X05)then do if Lv==4 then Bj=1386699917;else gj=0x00001D4995F7;end;end;else if Lv~=0X6 then Zj=1385494671;else Kj=0X077F956D6;end;end;else do if Lv<=1 then do if Lv~=0X0 then do hj=34917216;end;else Vj=848909955;end;end;else if Lv==0x0002 then mj=1028653852;else Lj=0X1fE4F600;end;end;end;end;else if not(Tj(0x3,Lv,0Xb))then if not(Lv<=13)then if Tj(3,Lv,14)then B=RB;else if not(Tj(0X1,Tj(0x4,nil,nil,Lv,RB,Lj,{},u,Lv,0X000024),0X0000f))then do g=HB.char;end;else u=XB;end;end;else if Lv==0xc then b=nB;else Z=HB.sub;end;end;else do if not(Lv<=9)then if Lv==10 then do p=fB;end;else V=vB;end;else do if not(Tj(1,Lv,8))then A=zB;else do Mj=0X0040819f35;end;end;end;end;end;end;end;end;local L=(HB.gsub);local t=tonumber;do uj=0;end;local R,h=nil,(nil);do while Tj(5,nil,nil,{},Lv,Hj,59,0X39,uj)<=1 do if uj==0 then do R=sB or table.unpack;end;do uj=1;end;else do h=table.insert;end;uj=2;end;end;end;local E,f,H,X,bB=0X1,next,nil,nil,(nil);local J=rawget;for ly=0,3 do if ly<=1 then if ly==0X00000 then H=DB;else end;else if Tj(1,ly,2)then bB={};else X=function(xE,hE,ME)local JE=nil;local sE=1;while(true)do if sE<=0X000 then do JE=ME-hE+1;end;do sE=0X2;end;else if sE~=1 then if JE>=0X8 then do return xE[hE],xE[hE+1],xE[hE+2],xE[hE+3],xE[hE+0X004],xE[hE+5],xE[hE+0x006],xE[hE+0X7],X(xE,hE+8,ME);end;elseif JE>=eB then return xE[hE],xE[hE+1],xE[hE+2],xE[hE+3],xE[hE+0X4],xE[hE+5],xE[hE+6],X(xE,hE+7,ME);elseif JE>=0X6 then return xE[hE],xE[hE+NB],xE[hE+2],xE[hE+3],xE[hE+4],xE[hE+GB],X(xE,hE+0x6,ME);elseif JE>=5 then return xE[hE],xE[hE+1],xE[hE+0X00002],xE[hE+3],xE[hE+0X4],X(xE,hE+0x5,ME);elseif JE>=0X00004 then return xE[hE],xE[hE+1],xE[hE+0X00002],xE[hE+3],X(xE,hE+0X4,ME);elseif JE>=0X00003 then return xE[hE],xE[hE+0X001],xE[hE+EB],X(xE,hE+3,ME);elseif not(JE>=2)then return xE[hE],X(xE,hE+NB,ME);else return xE[hE],xE[hE+0X001],X(xE,hE+2,ME);end;break;else do if not(hE>ME)then else do return;end;end;end;sE=0;end;end;end;end;end;end;end;uj=0X3;local d,e,N,s,m=nil,nil,nil,nil,nil;do while Tj(0X6,uj,0X0006)do if uj<=0X0002 then if Tj(0X3,uj,0)then s=function(gx,Sx,bx)local Hx=nil;do for Xz=0,2 do if Xz<=0X0 then if not(not Sx)then else Sx=0X0001;end;else if Xz~=0X00001 then Hx=bx-Sx+0X1;else if not(not bx)then else bx=#gx;end;end;end;end;end;if not(Hx>7997)then return R(gx,Sx,bx);else return X(gx,Sx,bx);end;end;do uj=5;end;else if not(Tj(0x1,uj,0X1))then uj=0X00004;else N=(e and Tj(0x04,nil,nil,e,0x16,Nj,720.4756418428763,Lv,{},{})()or uB);do uj=0x00000;end;end;end;elseif uj<=3 then d=kB;uj=0X2;else if uj==4 then e=iB;uj=1;else do m=TB;end;uj=0X06;end;end;end;end;local M=error;local a={0x6,0X3,(Tj(0X07,setmetatable({},{__mod=function(cJ,FJ)local pJ=0;do repeat if not(pJ<=0)then do if pJ==1 then return((FJ+Mj)-Zj);else Zj=Zj+27;pJ=0x1;end;end;else Mj=Mj-600;pJ=2;end;until false;end;end}),303258574))};local k=(WB);local i=L(Z("LPH?9E1694555H006A950007DCE8335666892202DAE6B06E782H00D0C3B42H00034AC9062H034AC5062H034AC1062H03646C2H030C022H0354B2012H032693072H0326A30703B7073D3F9307A30602F305E7049305048702DB06D3022E379B018B066FC704AB01B303528706B706034A91062H034AE90D2H034AA52D2H035D991BFF02034A8D2203C3043C8709BF09033503FF0203069D199F2H034A3D2H03541E932H034A89302H0306813CDF01034A852F2H034AC14F038A0717FF02FF02034A0103FF2H021FFF02034A052H030C02FF02920532FF02F93F034AB1422H034AB1242H030695429B2H034AF1182H034AAD242H036103E702034A052H0356BB03E702036003E702036420EB0203641CEF02034A2503C70772F708FF080354A606EF02030903E702034A0903C70772D706FB08034AE96HFF0F2H036410E302C70772F708FB08034AC16HFF0F2H036444F3020306B520BB02034AE11C2H036D03FF02032503AF2H035A03AB2H034A0103CE07208701AF2H034A052H030C02AF03A602208701B32H034A052H030C02B32H035A03AF2H034A052H03564BAF2H032503A72H034A052H0356F302A72H03549207AB2H032503A32H034A0103A20467A303A32H034A012H035E27832H0354B202872H0340A128FF0203549E07B72H034A9D6HFF0F2H0306DD4B832H034AA1212H035A039F039F03119B039B2H035DD9259B2H034A1D03E209679B039B2H034A0103CE072087019F2H034A052H030C029F03A602208701A32H034AD56HFF0F2H034A3103C70772B709D309C3043CFB09830A034A012H034B03BF2H034AA93A2H035DBD3CDF01034AC5152H030CF207F301034A052H030C02F301A60622F301F301034AA1362H034AC1390383031BFF02FF02035DD90CFF02034A592H032503832H03549E04872H032503FF02034A052H0356BB04FF02AA05201F832H034AD96HFF0F2H035A03872H034A052H0356EF02872H0354F2018B2H034AD16HFF0F2H0354EA058B2H034AE56HFF0F038E06208701FF02034A052H030C02FF028E06208701832H034A052H030C028303CE03208701872H034AD96HFF0F2H034A99FC5HFF0F2H0312C702FF02033503FF02EA01679703972H034A312H0325039B2H034A492H0354C608A32H034AF16HFF0F2H0354BE03A32H034A012H035A039F2H034A052H0356F3069F2H0354DE02A32H0325039B2H034A15038E052087019B2H034A052H030C029B03CE072087019F2H034ACD6HFF0F0396090E9B039B2H035D8D199B2H034A412H0354EE019F2H034A012H032503972H034A052H0356BF0697034E2087019B2H034A052H030C029B03A6022087019F2H034A052H030C029F2H035A039B2H034A052H0356B7019B039B03489703972H034AE9FE5HFF0F2H034AA9132H0300CB01F301035DF91CF301034A9D1C03970106B305AF08970106B305AF080354D2049B2H034AF12D038204201F832H034A052H030C02832H034AA9242H03548A01AB2H031223AF2H0354B202B32H03409933AB2H034A99282H036400A32H036003A72H03642CAB03AB0371DA06A72H034A052H03409510AB2H0354B202AB2H03509303AF2H0354B202B32H034AED6HFF0F03B20242AA059F038204425E9F2H034ACD6HFF0F2H0360039F2H034A0103B20842A6059F2H034AE56HFF0F03AB015BA302FF0103545E230354EE032703549A062B0354CE042F0354D209330354DA07370354CA073B030C96013F034A052H030C023F030C1643030C9E0247034A052H030C0247030CDE014B034A052H030C024B030CE2064F030CF20353034A052H030C0253030CA20857030CEE055B030C8E075F034A052H030C025F030CDE0663034A052H030C0263030CD20867030CBA036B034A052H030C026B030C1A6F030CF60273034A052H030C0273030CF60477034A052H030C0277030CDE087B030C627F030CCE058301030CBE048701030CFA048B01034A052H030C028B010306F9458B01034A91072H0306BD0A9F2H034AF5322H034AC5FD5HFF0F2H0353C948FF02034A81382H0319950CC32H034ADD362H035A03FF02E22H05FF02FF02035D912BFF02034AA1352H0354768F2H034AC93A2H035DD90D9F2H034AA901038E0620870197038E062087019B0396082CD6019F03CE07208701A303A602208701A72H034A052H030C02A72H035A03A303A303119F039F2H034AD16HFF0F03CE032087019B2H034A052H030C029B0386022CEA079F2H034A412H035A038F2H034A052H0356CF078F0336678F038F038E05208701932H034A052H030C0293038E06208701972H034AC96HFF0F2H032503932H034A052H0356479303C607179303932H034A8D6HFF0F03D606179303932H034AC16HFF0F03DA02179F039F2H034A012H035A039B2H034A052H035697019B2H0354A2099F2H032503972H034A052H0356A706972H0354EA049B2H034AB96HFF0F2H034AA50C2H0353A914FF02034AD12E2H034AB13503F2040EFF02FF02035DC130FF02034AD10E2H035D85F95HFF0FFF02034A951E2H0306AD1F972H034A81262H030903832H034A052H0356930783038F0572CB05EF058F0572EB05F30503549E058B2H030903832H034A1D03C3043CC708BF09C3043C9F09C309C3043CBB09C70903549A028B2H034ACD6HFF0F038F0572F704E705034AE56HFF0F2H035DB16HFF0FFB02034AD54503CE07208701FF02034A052H030C02FF02CE07208701832H034A052H030C028303A602208701872H034A052H030C02872H035A03832H034A052H0356538303B202201F872H034A052H030C02870387036A8303832H035DF11E832H034AEDFC5HFF0F03C3043CC706BB090F570BF702034A052H0356D703F702C70772FF069309C3043CCB06C3090F570BFF02C3043CAB07C709C70772A3069F090F570B872H034A012H035DE5F45HFF0FF702034A092H03126BF702034AC56HFF0F2H034AE11103C70772DB089309034A012H036103FF02034A052H0356FB05FF02034AA92F03970106B305AF088A0103BF03E129034A1503B703029303BB2H034A052H030C02BB035E6C9B03BF2H034AE56HFF0F2H034ADDF65HFF0F2H034A950E2H036EC942AB2H031273AB03C70772DF08C309037303B32H034AED6HFF0F2H0306C9368F2H034ACD302H0354CA03B32H034A2HF55HFF0F038F0572B305CB04034A4503C70772D708DF080354AA08CF02032503C702034A052H03560FC702A60622C702C702034A0D2H032503C702A60622C702C702034A81012H0312C702BF02034A95012H030C46CB02035707CB02034A0103075803C702034A0D2H034A95392H0354F608CF02034ACD6HFF0F2H0354EA02CB02032503C302034A052H0356EB06C3020312AB01C702C3043C83098B090354FA02CF02032503C702A60622C702C702034A3D03C3043CAF078B09035A03C702034A052H0356E705C7020312C7026F03548E04C702034AE5FE5HFF0F03C70772BF07DB08C70772D708DF08034AA96HFF0F2H036003C702034A896HFF0F2H0312C702BB02C70772BF07DB08034ACDFE5HFF0F03C3043C8709F708034AD96HFF0F2H0312B701C302034ADD6HFF0F038F05729F05B305034AAD6HFF0F038204201FFF02034A052H030C02FF02034AE5012H03069D20972H034AA5422H0325039703B602059703972H035DC905972H034A512H0354C204972H0325038F2H034A052H0356F3058F03FA06178F038F038E06208701932H034A052H030C0293038E06208701972H034A052H030C0297038E052087019B2H0354429F2H03548601A32H034A012H0325039B2H034A052H0356E3059B2H03549A099F2H034AA16HFF0F2H034AE5142H034A952D2H0354B202FF0203644083034E208701872H034A0103CE072087018B2H034A052H030C028B03C6022087018F2H034A01034E208701932H034A052H030C029303A602208701972H034A052H030C02972H035A03932H034A052H03564B9303F6010D9303932H034A012H035DAD13932H034A81302H034A9D022H0354EA069B2H034AFD1E2H0312CB01E701035D9129E701034AC50C2H036D03FF020306E9F95HFF0FFF02034AED2C2H035492089F2H034A89322H034ACD0103C7077297069309033803FF020354FE06832H034A21038F032783039B2H034A252H0354068F2H03230B932H034A052H030C02932H036003972H034AE16HFF0F2H0354BA06872H0354E6028B2H034ADD6HFF0F038B03489B039B038A036C9B039B2H03548A019F2H03549206A32H0354B202A72H0340C92B9F2H034A911A2H0354DE048F2H034AB9122H03550BAB2H034A092H0354A606AB2H034AF16HFF0F03C707728707BF098F0572D3059B06037303B32H034A012H03289909AB03930302FB02972H034A052H030C02972H0306B911972H034AE11B03C3043CB709C3098F0572E705F305034A012H035707872H034A052H035637872H034903832H034A052H03569B03832H034AA5F85HFF0F2H034AD9182H03068D03872H034AA9012H0354CE099F2H034A952A03A60632EB02C1EF5HFF0F034A112H03123FEB028F0572CF05DB05035A03EB02034AE96HFF0F2H034AF5292H035D91FA5HFF0FF301034A85FA5HFF0F2H03250393034E208701972H034A0103A6022087019B2H035A03970397031B9303932H035DCD1D932H034A092H035486089B2H034AD96HFF0F2H034AC90C038203229F039F2H035DF9ED5HFF0F9F2H034AF110030F570FAB2H034A1D038F05728B04A3060354F209BB2H0354FE01BF2H0354FE01C32H035E13B72H0316B303B32H034ADD6HFF0F2H035D8517AB2H034A15038F0572F7039B06C707728B09C709034AD16HFF0F03C3043CAB07EB09034AED6HFF0F2H034AE91A2H03548603872H034AD9012H034AE91C2H0312F702FB02034A292H034903FB02034A052H0356A305FB02C3043CB709BB09034A252H03570BFF02034A052H035677FF02034903FB02034AA50D2H031277FF0203548A01832H03570BFF02034AC96HFF0F2H031277FF020354B202832H034AD16HFF0F2H0354C6039F2H034AF51B2H0354AA04932H034A81182H0354D609832H034AE1372H0306B1FE5HFF0F972H034AF5162H0354D6089B2H034AEDEC5HFF0F03EB0473F703A704034AB9092H036103E702034A092H0312C702E702034AF16HFF0F2H034A89ED5HFF0F03B20220CB03CF2H034A052H030C02CF03A60520CB03D32H034A052H030C02D303D303029F03D72H0312B703DB03DB034CD703CF03A60614D303CF03C3043C8307970A0312CF03DB038F05729306CB06030903D72H034AADF35HFF0F2H03546A9B2H034A1D038201678703872H034A452H0325039303FE08229303932H034A012H035DF116932H034A5103CE072087019F2H034A052H030C029F03A602208701A32H035A039F2H034A052H0356FB059F2H032503972H034A052H03568B07972H0354DE079B2H034ABD6HFF0F038E062087018B038E052087018F2H034A01038E05208701932H034A052H030C0293038E05208701972H034A8D6HFF0F2H034AAD2D03D60332FF02F905034A2103EE0817FF02FF02034A092H0354E604872H034A0903FF2H021FFF02034AE16HFF0F2H032503FF02034AE16HFF0F2H034AE5152H034AF91F2H030695EE5HFF0F9F2H034AC1282H0354BE02932H034AE9102H0353DDF55HFF0FAB2H034ADDFA5HFF0F2H0306AD1A932H034A990B2H032503932H034A052H0356CB069303A60767930393034E20870197034E2087019B2H034A052H030C029B03CE032087019F2H034A052H030C029F034E208701A32H034AB9012H0325039B2H034A4D2H035A039F2H034A052H0373039F03CE07208701A32H034A052H030C02A303A602208701A72H035A03A32H034AD56HFF0F03C6022087019F2H034A052H030C029F2H0354CA09A32H035A039F2H034A052H0356C7039F039602179F039F03CE07208701A32H034A1D2H035A0397034E2087019B2H034A052H030C029B03A6022087019F2H035A039B2H034ADDFE5HFF0F03A602208701A72H035A03A32H034A312H035A03A32H035A039F2H034A052H0356EF029F03F603679F039F2H035A039B2H034A052H0356F7039B2H035A03972H034A1D2H035DF1269F2H034A2103A3032D9F039F03C6091E9F039F2H034AED6HFF0F2H0354A205A72H034ABD6HFF0F03BA0567970397038E052087019B2H034AE1FE5HFF0F2H034AF5092H0306E5221F034AA1F35HFF0F2H034AAD262H035DB511AF2H034AB50803A60614BB03B32H034AD11A2H034AE5082H035DF1269302034AF5062H034A8D0B038204201FFF02034AF5142H0306A503A72H034AC1232H0361038F2H034A052H0356FF078F2H034AD51103C3043CDB06CF09034AE96HFF0F2H03545A8B2H032503832H034A052H0356FB0783035E201F872H034A052H030C02870387034883038303B202201F872H032503FF02034A052H03564FFF02B202201F8303830348FF02FF02FA0867FF02FF02FF2H021FFF02034A052H030C02FF02B60832FF027D034AB9EA5HFF0F2H034A452H034AE105039E09679F039F2H034A012H035E23832H0354B202872H034099EE5HFF0FFF02CE072087019B03A6022087019F2H034A052H030C029F2H035A039B2H034A892903B208201F832H034ADDFB5HFF0F03CA011E9B039B2H035DE1E65HFF0F9B2H034AE9F95HFF0F03B202201F832H034A052H030C02832H034A8DE85HFF0F2H0306EDF15HFF0FEF01034A85312H030AD50FAB2H034AD1072H0312178F2H034A012H0361038F2H034AD92603CE03208701FF02034A052H030C02FF028E05208701832H03549E03872H0354DA098B2H0325038303AA05201F872H034A052H030C02870387032D830383038204201F87038703488303832H035A03FF02034A052H0356E705FF02B202201F832H034A052H030C02830383031BFF02FF02035DA90FFF02034AB1E55HFF0F2H035DD507F701034AAD082H0325039B03BE2H059B039B2H034A092H03549A04A32H034AED6HFF0F2H035DCD1F9B2H034AF9252H035DED16872H034AAD1F2H035D8930832H034A2903CE07208701FF02034A052H030C02FF02AA03201F832H034A052H030C028303830362D2068303B208201F870387033E8303832H034AD16HFF0F2H034AF1F75HFF0F2H0354BA09872H034AD1F55HFF0F2H035A03A32H034A052H03569B01A32H0354F607A72H0325039F03EE06179F039F2H034A01038209679F039F2H035E23832H034A052H0356AB06832H0354B202872H034A012H0340E124FF02C3043C8F08A708034AC11C2H034A9DF35HFF0F03B205201F832H034AC131038F0572E703B306034A252H0354DE01CB2H034A49032702BB03BF2H034A052H030C02BF2H03126BC32H034ADD6HFF0F2H0312BF03C72H034ADD6HFF0F038F0572A306B706C70772D309E309033F13C32H034A052H0356AF05C303C3043C8F07830A034ADD6HFF0F2H033F13C32H034A052H0356AF01C32H034AD51B033B02BB03CF2H034AE96HFF0F03C70772DB08A3090361038F2H034A052H0356C3048F2H034AE1E25HFF0F2H035D9108FB01034AFD0503D20374FA01972H035DA9EC5HFF0F972H034A09034A679303932H034AED6HFF0F2H034A811B2H0354D201932H034AE1132H030699FC5HFF0F9B2H034A8510030F570F8F2H034A052H0356BF018F2H035DD9EB5HFF0F8F2H034A15038F0572D703FB05034A012H0312779303C3043CCB09D709034AD96HFF0F2H034AD90B2H0354B607932H034A810A2H034A99ED5HFF0F2H034AF10403830304FF02C123034A392H032503872H034A052H0356EF04872H035A038303CE06178303832H034AE16HFF0F03B208201F932H034A052H030C02932H0325038B2H034A0103FA03678B038B2H0354FA058F2H034AC96HFF0F2H034ADDF25HFF0F2H0354AE02932H034AB9022H034AC11D2H0354BA04832H034ABD1A2H0354E603972H034A89EF5HFF0F2H035A038B2H034A052H03566B8B2H034AB91A03CE072087018B2H034A052H030C028B03A6022087018F2H034ADD6HFF0F2H0354D607932H034A9DFE5HFF0F2H03548206832H034A0D038F0572CB05E7058F0572FF04EB05034AED6HFF0F2H030903FB02034A052H0356B302FB02035DDD1FAB02034AF93H034A9511037E17FF02FF02034A0103FF2H021FFF028A0932FF0299F05HFF0F034A6503CE07208701FF02034A052H030C02FF028E06208701832H034A052H030C0283038E05208701872H034A052H030C0287038E052087018B03AA03201F8F2H034A152H032503832H034A012H035A03FF02BA0767FF02FF02034AA96HFF0F2H03548A05932H0325038B2H034A052H0356F7018B2H0354A6088F2H0325038703AA03201F8B2H034ACD6HFF0F2H034A89E05HFF0F2H030C02FB02035D9D21FB02034A2103C707728307C7090312AF03B72H035A03B303820532B303BD19034AE9082H03069DF95HFF0FDF01034AD5EE5HFF0F2H034AEDFA5HFF0F03C3043CB709BB09030C02FF02034B03FB02034A012H034AE5202H0354CA06972H034A8D0D2H03548605FF02034AFD182H0306F106932H034AE5FC5HFF0F2H034AFDDE5HFF0F2H0354C605932H034A911C2H0300DF01FB01034AD50E2H0300DB01F301034A512H0354E203932H034A1103D30172231F034A99012H0354CE089F2H034AC5DE5HFF0F2H0306B1E75HFF0F932H034ABD2D2H036404F702035DE5FE5HFF0F77034A99012H03069DF85HFF0FFB01034AF9FE5HFF0F03C3043C8709BF09033503FF0203548A08932H034A6D2H034A9D2E2H0354CE018F2H034AFDE95HFF0F2H035D810BF301034AB5EE5HFF0F03EB04738B04A304034AE5F85HFF0F2H034AF92D03FF2H021FFF02034A052H030C02FF02BE0932FF029512034A0903BE0167FF02FF02034AE56HFF0F2H034A810403930302FB02972H034A052H030C02970397034C8B03FB02034A012H034AE9E65HFF0F2H035DBD1AF701034A951F2H034AC5DD5HFF0F2H03540A932H034AED122H0306CD1A932H034AB1FE5HFF0F2H034A8D1D2H0354CA04932H034A95EB5HFF0F2H034AF1EF5HFF0F2H03548E029B2H034AA1DF5HFF0F2H0306A5FB5HFF0F8F2H034ACD192H034AB5FE5HFF0F2H0354F2059B2H034ACD172H036D03FF02030CD202F701034AED1903EB04738304A704034A890203EB0473F703A304034A9D6HFF0F2H034AEDF85HFF0F2H034AF5072H0354B6069B2H034A85FA5HFF0F2H034A812B03DE0367FF02FF02FF2H021FFF02034AA101038E06208701FF02034A052H030C02FF028E05208701832H034A052H030C0283038E05208701872H034A0903CE07208701872H034A4903B202201F8B2H034A052H030C028B2H0354CA058F2H032503872H034A052H035697018703AA05201F8B2H034A052H030C028B2H032503832H034A052H0356AB068303A605201F872H034A052H030C02870387032D8303832H034AB16HFF0F03A6022087018B2H034A052H030C028B2H035A03872H034A052H0356E706872H032503FF02034A052H03565BFF02B202201F8303830348FF02FF02034AD5FE5HFF0F03DA0132FF02ADE55HFF0F034AED0D038F0572B305EB05033503FF02035492039F2H034AA5F45HFF0F2H034AB5EB5HFF0F2H030C9201A702034A052H030C02A702030CFE05AB02034A052H030C02AB02036003AF02036414B302034A752H030C8606FF01034A152H030C569F02034A052H030C029F02030CB201A302034AC16HFF0F2H030CDA048302030C9E058702034A052H030C028702030C9A028B02034A052H030C028B02030C82028F02034A052H030C028F02030C82069302030C92099702034A052H030C029702030CDA039B02034AAD6HFF0F2H0354AE09BF02030C46C302034A052H030C02C302035DD11FC302034A0D2H0354AE09B7020354AE09BB02034ADD6HFF0F2H034AC10C2H034AADFB5HFF0F034E208701972H034A052H030C029703A6022087019B2H034A412H035DFD0E932H034A792H0354C201972H0325038F2H034A15038E052087018F2H034A052H030C028F03AE042CC601932H034AC56HFF0F2H03548208932H0325038B2H034A052H0356778B039A01178B038B2H034AD56HFF0F2H035A03972H034A052H0356BB02970397032D93039303CE07208701972H034A052H030C029703A6022087019B2H034A052H030C029B2H035A03972H034A052H0356C704970397034893039303B2070D9303932H034A816HFF0F2H034AEDF95HFF0F2H035707872H034A012H034903832H034A052H0356EF07832H034AEDDA5HFF0F2H0312F702832H0312FF02872H034ADD6HFF0F2H030689079B2H034A9D052H034A85152H0354FE04972H034A2903CE032087018F2H034A052H030C028F03CE07208701932H034A292H035A038B2H034A052H0356DF078B037A178B038B2H034AD96HFF0F2H0325038F2H034AE56HFF0F03E609599303932H035D89F95HFF0F932H034A1903A602208701972H034A052H030C02972H035A039303CE02179303932H034ADD6HFF0F2H034AD11303CE072087019F2H034A0103A602208701A32H034A052H030C02A32H035A039F2H034AE1262H0354FA09FF02034AD512034E2087019B2H034A0D039B03669703972H035DDDE45HFF0F972H034A0D03A6022087019F2H035A039B2H034AE96HFF0F2H034AB9F55HFF0F2H034AA1F55HFF0F2H034AA9F55HFF0F03C707728707CB09C3043CF309FB09037303BF2H0328AD09B72H034AA9192H036450B303C3043CF309EF09034AC5102H034A85182H03069904832H034A810C03C3043CAF09F309C70772C309CB09034B03B32H034A052H0356A707B32H034A91F05HFF0F035E201FFF02034A052H030C02FF02034A81172H0312C702FF02036103FF02034A052H035667FF02034AB5172H03068DD65HFF0FFF02034AA93H0353A9EE5HFF0FFF02034AD9ED5HFF0F03C3043CAF07D709034A0103C70772A709AF09035A03972H034A052H0356DB069703CE05039703F1DE5HFF0F034AA5E65HFF0F2H0354A604972H034AB1E75HFF0F03C7077
end
local Button = Tab:CreateButton({
   Name = "Keyboard",
   Callback = function()
   local function ClonedService(name)
    local Service = (game.GetService);
	local Reference = (cloneref) or function(reference) return reference end
	return Reference(Service(game, name));
end

local UIS = ClonedService("UserInputService")
local GuiS = ClonedService("GuiService")
local VIM = ClonedService("VirtualInputManager")
local TS = ClonedService("TextService")

local function protectUI(sGui)
    if sGui:IsA("ScreenGui") then
        sGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
		sGui.DisplayOrder = 999999999
		sGui.ResetOnSpawn = false
		sGui.IgnoreGuiInset = true
    end
    local cGUI = ClonedService("CoreGui")
    local lPlr = ClonedService("Players").LocalPlayer

    local function NAProtection(inst, var)
        if inst then
            if var then
                inst[var] = "\0"
                inst.Archivable = false
            else
                inst.Name = "\0"
                inst.Archivable = false
            end
        end
    end

    if gethui then
		NAProtection(sGui)
		sGui.Parent = gethui()
		return sGui
	elseif cGUI and cGUI:FindFirstChild("RobloxGui") then
		NAProtection(sGui)
		sGui.Parent = cGUI:FindFirstChild("RobloxGui")
		return sGui
	elseif cGUI then
		NAProtection(sGui)
		sGui.Parent = cGUI
		return sGui
	elseif lPlr and lPlr:FindFirstChildWhichIsA("PlayerGui") then
		NAProtection(sGui)
		sGui.Parent = lPlr:FindFirstChildWhichIsA("PlayerGui")
		sGui.ResetOnSpawn = false
		return sGui
	else
		return nil
	end
end

local themes = {
	Dark = {Bg = Color3.fromRGB(40, 40, 40), Btn = Color3.fromRGB(60, 60, 60), Acc = Color3.fromRGB(60, 180, 60), Txt = Color3.fromRGB(255, 255, 255)},
	Light = {Bg = Color3.fromRGB(245, 245, 245), Btn = Color3.fromRGB(220, 220, 220), Acc = Color3.fromRGB(100, 200, 255), Txt = Color3.fromRGB(0, 0, 0)},

	Red = {Bg = Color3.fromRGB(60, 0, 0), Btn = Color3.fromRGB(100, 0, 0), Acc = Color3.fromRGB(200, 30, 30), Txt = Color3.fromRGB(255, 255, 255)},
	Green = {Bg = Color3.fromRGB(0, 60, 0), Btn = Color3.fromRGB(0, 100, 0), Acc = Color3.fromRGB(50, 200, 50), Txt = Color3.fromRGB(255, 255, 255)},
	Blue = {Bg = Color3.fromRGB(0, 0, 60), Btn = Color3.fromRGB(0, 0, 100), Acc = Color3.fromRGB(50, 100, 255), Txt = Color3.fromRGB(255, 255, 255)},
	Yellow = {Bg = Color3.fromRGB(100, 100, 0), Btn = Color3.fromRGB(180, 180, 0), Acc = Color3.fromRGB(255, 255, 50), Txt = Color3.fromRGB(0, 0, 0)},
	Orange = {Bg = Color3.fromRGB(100, 50, 0), Btn = Color3.fromRGB(160, 80, 0), Acc = Color3.fromRGB(255, 140, 0), Txt = Color3.fromRGB(255, 255, 255)},
	Purple = {Bg = Color3.fromRGB(50, 0, 100), Btn = Color3.fromRGB(80, 0, 160), Acc = Color3.fromRGB(180, 50, 255), Txt = Color3.fromRGB(255, 255, 255)},
	Pink = {Bg = Color3.fromRGB(100, 0, 60), Btn = Color3.fromRGB(180, 0, 100), Acc = Color3.fromRGB(255, 105, 180), Txt = Color3.fromRGB(255, 255, 255)},
	Teal = {Bg = Color3.fromRGB(0, 60, 60), Btn = Color3.fromRGB(0, 100, 100), Acc = Color3.fromRGB(0, 200, 200), Txt = Color3.fromRGB(255, 255, 255)},
	Cyan = {Bg = Color3.fromRGB(0, 100, 100), Btn = Color3.fromRGB(0, 150, 150), Acc = Color3.fromRGB(0, 255, 255), Txt = Color3.fromRGB(0, 0, 0)},
	Indigo = {Bg = Color3.fromRGB(40, 0, 80), Btn = Color3.fromRGB(60, 0, 120), Acc = Color3.fromRGB(90, 70, 255), Txt = Color3.fromRGB(255, 255, 255)},
	Lime = {Bg = Color3.fromRGB(80, 100, 0), Btn = Color3.fromRGB(120, 180, 0), Acc = Color3.fromRGB(180, 255, 0), Txt = Color3.fromRGB(0, 0, 0)},
	Magenta = {Bg = Color3.fromRGB(80, 0, 80), Btn = Color3.fromRGB(140, 0, 140), Acc = Color3.fromRGB(255, 0, 255), Txt = Color3.fromRGB(255, 255, 255)},
	Maroon = {Bg = Color3.fromRGB(80, 0, 0), Btn = Color3.fromRGB(120, 0, 0), Acc = Color3.fromRGB(180, 20, 20), Txt = Color3.fromRGB(255, 255, 255)},
	Navy = {Bg = Color3.fromRGB(0, 0, 60), Btn = Color3.fromRGB(0, 0, 100), Acc = Color3.fromRGB(0, 0, 180), Txt = Color3.fromRGB(255, 255, 255)},
	Olive = {Bg = Color3.fromRGB(80, 80, 0), Btn = Color3.fromRGB(100, 100, 20), Acc = Color3.fromRGB(160, 160, 60), Txt = Color3.fromRGB(0, 0, 0)},
	Brown = {Bg = Color3.fromRGB(60, 30, 0), Btn = Color3.fromRGB(100, 50, 0), Acc = Color3.fromRGB(160, 80, 20), Txt = Color3.fromRGB(255, 255, 255)},
	Silver = {Bg = Color3.fromRGB(200, 200, 200), Btn = Color3.fromRGB(230, 230, 230), Acc = Color3.fromRGB(255, 255, 255), Txt = Color3.fromRGB(0, 0, 0)}
}

local gui = Instance.new("ScreenGui")
gui.Name = "VKB"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
protectUI(gui)

local Main = Instance.new("Frame")
Main.Name = "Main"
Main.Size = UDim2.new(0, 650, 0, 250)
Main.Position = UDim2.new(0.5, -325, 0.8, -125)
Main.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Main.BorderSizePixel = 0
Main.Parent = gui

local c1 = Instance.new("UICorner")
c1.CornerRadius = UDim.new(0, 10)
c1.Parent = Main

local Title = Instance.new("Frame")
Title.Name = "Title"
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Title.BorderSizePixel = 0
Title.Parent = Main

local c2 = Instance.new("UICorner")
c2.CornerRadius = UDim.new(0, 10)
c2.Parent = Title

local TLabel = Instance.new("TextLabel")
TLabel.Size = UDim2.new(1, -200, 1, 0)
TLabel.Position = UDim2.new(0, 10, 0, 0)
TLabel.BackgroundTransparency = 1
TLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TLabel.TextSize = 16
TLabel.Font = Enum.Font.SourceSansBold
TLabel.Text = "Virtual Keyboard"
TLabel.TextXAlignment = Enum.TextXAlignment.Left
TLabel.Parent = Title

local Close = Instance.new("TextButton")
Close.Name = "Close"
Close.Size = UDim2.new(0, 40, 0, 25)
Close.Position = UDim2.new(1, -85, 0, 2.5)
Close.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
Close.TextColor3 = Color3.fromRGB(255, 255, 255)
Close.Text = "X"
Close.TextSize = 16
Close.Font = Enum.Font.SourceSansBold
Close.Parent = Title
local c3 = Instance.new("UICorner")
c3.CornerRadius = UDim.new(0, 5)
c3.Parent = Close

local AddBTN = Instance.new("TextButton")
AddBTN.Name = "Add"
AddBTN.Size = UDim2.new(0, 40, 0, 25)
AddBTN.Position = UDim2.new(1, -45, 0, 2.5)
AddBTN.BackgroundColor3 = Color3.fromRGB(60, 180, 60)
AddBTN.TextColor3 = Color3.fromRGB(255, 255, 255)
AddBTN.Text = "+"
AddBTN.TextSize = 16
AddBTN.Font = Enum.Font.SourceSansBold
AddBTN.Parent = Title
local c4 = Instance.new("UICorner")
c4.CornerRadius = UDim.new(0, 5)
c4.Parent = AddBTN

local ThemeBtn = Instance.new("TextButton")
ThemeBtn.Name = "Theme"
ThemeBtn.Size = UDim2.new(0, 80, 0, 25)
ThemeBtn.Position = UDim2.new(1, -170, 0, 2.5)
ThemeBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
ThemeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ThemeBtn.Text = "Dark"
ThemeBtn.TextSize = 14
ThemeBtn.Font = Enum.Font.SourceSansBold
ThemeBtn.Parent = Title
local c5 = Instance.new("UICorner")
c5.CornerRadius = UDim.new(0, 5)
c5.Parent = ThemeBtn

local Keys = Instance.new("Frame")
Keys.Name = "Keys"
Keys.Size = UDim2.new(1, -20, 1, -40)
Keys.Position = UDim2.new(0, 10, 0, 35)
Keys.BackgroundTransparency = 1
Keys.Parent = Main

local Toggle = Instance.new("TextButton")
Toggle.Name = "Toggle"
Toggle.Size = UDim2.new(0, 50, 0, 50)
Toggle.Position = UDim2.new(0, 20, 0.5, -25)
Toggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
Toggle.Text = "⌨️"
Toggle.TextSize = 20
Toggle.Font = Enum.Font.SourceSansBold
Toggle.Parent = gui
local c6 = Instance.new("UICorner")
c6.CornerRadius = UDim.new(0, 10)
c6.Parent = Toggle

local function applyTheme(name)
	local t = themes[name]
	if not t then return end
	Main.BackgroundColor3 = t.Bg
	Title.BackgroundColor3 = t.Btn
	Keys.BackgroundColor3 = t.Bg
	Toggle.BackgroundColor3 = t.Btn
	AddBTN.BackgroundColor3 = isSel and t.Acc or t.Btn
	Close.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
	ThemeBtn.BackgroundColor3 = t.Btn
	TLabel.TextColor3 = t.Txt
	AddBTN.TextColor3 = t.Txt
	Close.TextColor3 = t.Txt
	Toggle.TextColor3 = t.Txt
	ThemeBtn.TextColor3 = t.Txt
	for _, k in ipairs(Keys:GetChildren()) do
		if k:IsA("TextButton") then
			k.BackgroundColor3 = t.Btn
			k.TextColor3 = t.Txt
		end
	end
end

ThemeBtn.MouseButton1Click:Connect(function()
	local opts = {
		"Dark", "Light", "Red", "Green", "Blue", "Yellow", "Orange", "Purple", "Pink",
		"Teal", "Cyan", "Indigo", "Lime", "Magenta", "Maroon", "Navy", "Olive", "Brown", "Silver"
	}
	local idx = table.find(opts, ThemeBtn.Text) or 1
	local next = opts[idx % #opts + 1]
	ThemeBtn.Text = next
	applyTheme(next)
end)

applyTheme("Dark")

local keyboardLayout = {
    {"1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "-", "=", "Backspace"},
    {"Tab", "Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P", "[", "]", "\\"},
    {"Caps", "A", "S", "D", "F", "G", "H", "J", "K", "L", ";", "'", "Enter"},
    {"Shift", "Z", "X", "C", "V", "B", "N", "M", ",", ".", "/", "Shift"},
    {"Ctrl", "Win", "Alt", "Space", "Alt", "Fn", "Ctrl"}
}

local keyToEnum = {
    ["1"] = Enum.KeyCode.One,
    ["2"] = Enum.KeyCode.Two,
    ["3"] = Enum.KeyCode.Three,
    ["4"] = Enum.KeyCode.Four,
    ["5"] = Enum.KeyCode.Five,
    ["6"] = Enum.KeyCode.Six,
    ["7"] = Enum.KeyCode.Seven,
    ["8"] = Enum.KeyCode.Eight,
    ["9"] = Enum.KeyCode.Nine,
    ["0"] = Enum.KeyCode.Zero,
    ["-"] = Enum.KeyCode.Minus,
    ["="] = Enum.KeyCode.Equals,
    ["Backspace"] = Enum.KeyCode.Backspace,
    ["Tab"] = Enum.KeyCode.Tab,
    ["Q"] = Enum.KeyCode.Q,
    ["W"] = Enum.KeyCode.W,
    ["E"] = Enum.KeyCode.E,
    ["R"] = Enum.KeyCode.R,
    ["T"] = Enum.KeyCode.T,
    ["Y"] = Enum.KeyCode.Y,
    ["U"] = Enum.KeyCode.U,
    ["I"] = Enum.KeyCode.I,
    ["O"] = Enum.KeyCode.O,
    ["P"] = Enum.KeyCode.P,
    ["["] = Enum.KeyCode.LeftBracket,
    ["]"] = Enum.KeyCode.RightBracket,
    ["\\"] = Enum.KeyCode.BackSlash,
    ["Caps"] = Enum.KeyCode.CapsLock,
    ["A"] = Enum.KeyCode.A,
    ["S"] = Enum.KeyCode.S,
    ["D"] = Enum.KeyCode.D,
    ["F"] = Enum.KeyCode.F,
    ["G"] = Enum.KeyCode.G,
    ["H"] = Enum.KeyCode.H,
    ["J"] = Enum.KeyCode.J,
    ["K"] = Enum.KeyCode.K,
    ["L"] = Enum.KeyCode.L,
    [";"] = Enum.KeyCode.Semicolon,
    ["'"] = Enum.KeyCode.Quote,
    ["Enter"] = Enum.KeyCode.Return,
    ["Shift"] = Enum.KeyCode.LeftShift,
    ["Z"] = Enum.KeyCode.Z,
    ["X"] = Enum.KeyCode.X,
    ["C"] = Enum.KeyCode.C,
    ["V"] = Enum.KeyCode.V,
    ["B"] = Enum.KeyCode.B,
    ["N"] = Enum.KeyCode.N,
    ["M"] = Enum.KeyCode.M,
    [","] = Enum.KeyCode.Comma,
    ["."] = Enum.KeyCode.Period,
    ["/"] = Enum.KeyCode.Slash,
    ["Ctrl"] = Enum.KeyCode.LeftControl,
    ["Win"] = Enum.KeyCode.LeftMeta,
    ["Alt"] = Enum.KeyCode.LeftAlt,
    ["Space"] = Enum.KeyCode.Space,
    ["Fn"] = Enum.KeyCode.F1
}

local specialKeySizes = {
    ["Backspace"] = 2,
    ["Tab"] = 1.5,
    ["Caps"] = 1.75,
    ["Enter"] = 1.75,
    ["Shift"] = 2.25,
    ["Ctrl"] = 1.5,
    ["Win"] = 1.25,
    ["Alt"] = 1.25,
    ["Space"] = 6,
    ["Fn"] = 1.25
}

local function createKey(text, row, col, width)
    local key = Instance.new("TextButton")
    key.Name = "Key_"..text
    key.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    key.BorderSizePixel = 0
    key.TextColor3 = Color3.fromRGB(255, 255, 255)
    key.Text = text
    key.TextSize = 16
    key.Font = Enum.Font.SourceSans
    key.AutoButtonColor = true

    local keyCorner = Instance.new("UICorner")
    keyCorner.CornerRadius = UDim.new(0, 5)
    keyCorner.Parent = key

    local isHolding = false
    local keyCode = keyToEnum[text]

    key.MouseButton1Down:Connect(function()
        key.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
        isHolding = true

        if keyCode then
            VIM:SendKeyEvent(true, keyCode, false, game)
        end
    end)

    key.MouseButton1Up:Connect(function()
        key.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        isHolding = false

        if keyCode then
            VIM:SendKeyEvent(false, keyCode, false, game)
        end
    end)

    key.MouseLeave:Connect(function()
        if isHolding and keyCode then
            VIM:SendKeyEvent(false, keyCode, false, game)
            isHolding = false
            key.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        end
    end)

    return key
end

local rowHeight = 1 / #keyboardLayout
local currentY = 0

for rowIndex, row in ipairs(keyboardLayout) do
    local totalWidth = 0
    for _, key in ipairs(row) do
        totalWidth = totalWidth + (specialKeySizes[key] or 1)
    end

    local currentX = 0
    for keyIndex, keyText in ipairs(row) do
        local keyWidth = specialKeySizes[keyText] or 1
        local relativeWidth = keyWidth / totalWidth

        local key = createKey(keyText, rowIndex, keyIndex, keyWidth)
        key.Size = UDim2.new(relativeWidth, -2, rowHeight, -2)
        key.Position = UDim2.new(currentX, 1, currentY, 1)
        key.Parent = Keys

        currentX = currentX + relativeWidth
    end

    currentY = currentY + rowHeight
end

local function makeDraggable(frame, handle)
    local isDragging = false
    local dragInput
    local dragStart
    local startPos

    handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            isDragging = true
            dragStart = input.Position
            startPos = frame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    isDragging = false
                end
            end)
        end
    end)

    handle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UIS.InputChanged:Connect(function(input)
        if input == dragInput and isDragging then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
end

makeDraggable(Main, Title)
makeDraggable(Toggle, Toggle)

local isSelectionMode = false

AddBTN.MouseButton1Click:Connect(function()
    isSelectionMode = not isSelectionMode
    AddBTN.BackgroundColor3 = isSelectionMode and Color3.fromRGB(180, 60, 60) or Color3.fromRGB(60, 180, 60)
end)

local function createFloatingKey(text)
	local sz = TS:GetTextSize(text, 20, Enum.Font.SourceSansBold, Vector2.new(math.huge, math.huge))

	local btn = Instance.new("TextButton")
	btn.Name = "FloatingKey_" .. text
	btn.Size = UDim2.new(0, sz.X + 20, 0, sz.Y + 20)
	btn.Position = UDim2.new(0.5, -((sz.X + 20) / 2), 0.5, -((sz.Y + 20) / 2))
	btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Text = text
	btn.TextSize = 20
	btn.Font = Enum.Font.SourceSansBold
	btn.Parent = gui

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 10)
	corner.Parent = btn

	local remove = Instance.new("TextButton")
	remove.Name = "Remove"
	remove.Size = UDim2.new(0, 20, 0, 20)
	remove.Position = UDim2.new(1, -25, 0, -5)
	remove.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
	remove.Text = "X"
	remove.TextColor3 = Color3.fromRGB(255, 255, 255)
	remove.TextSize = 16
	remove.Font = Enum.Font.SourceSansBold
	remove.Parent = btn

	local rCorner = Instance.new("UICorner")
	rCorner.CornerRadius = UDim.new(0, 10)
	rCorner.Parent = remove

	local isDown = false
	local keyCode = keyToEnum[text]

	btn.MouseButton1Down:Connect(function()
		btn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
		isDown = true
		if keyCode then VIM:SendKeyEvent(true, keyCode, false, game) end
	end)

	btn.MouseButton1Up:Connect(function()
		btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		isDown = false
		if keyCode then VIM:SendKeyEvent(false, keyCode, false, game) end
	end)

	btn.MouseLeave:Connect(function()
		if isDown and keyCode then
			VIM:SendKeyEvent(false, keyCode, false, game)
			btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
			isDown = false
		end
	end)

	remove.MouseButton1Click:Connect(function()
		btn:Destroy()
	end)

	makeDraggable(btn, btn)
end

for _, key in ipairs(Keys:GetChildren()) do
    if key:IsA("TextButton") then
        key.MouseButton1Click:Connect(function()
            if isSelectionMode then
                createFloatingKey(key.Text)
                isSelectionMode = false
                AddBTN.BackgroundColor3 = Color3.fromRGB(60, 180, 60)
            end
        end)
    end
end

Close.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

Toggle.MouseButton1Click:Connect(function()
    Main.Visible = not Main.Visible
    Toggle.BackgroundColor3 = Main.Visible and Color3.fromRGB(80, 180, 80) or Color3.fromRGB(60, 60, 60)
end)

UIS.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.F2 then
        Main.Visible = not Main.Visible
        Toggle.BackgroundColor3 = Main.Visible and Color3.fromRGB(80, 180, 80) or Color3.fromRGB(60, 60, 60)
    end
end)
end})
local Label = Tab:CreateLabel("Press E for start aimbot", "send")
